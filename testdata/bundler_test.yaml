#/usr/bin/env newt check
#
# This was generated by rsdoiel on 2024-05-13 with newt version 0.0.8 1ab4756.
#
applications:
  router:
    port: 8010
  mustache:
    port: 8011
  postgres:
    namespace: bundler_test
    port: 5432
    dsn: postgres://{PGUSER}:{PGPASSWORD}@localhost:5432/bundler_test.yaml
  postgrest:
    app_path: postgrest
    conf_path: postgrest.conf
    port: 3000
  enviroment:
    - PGUSER
    - PGPASSWORD
models:
  - id: post
    description: A blog post or article
    elements:
      - type: text
        id: post_id
        is_object_id: true
      - type: text
        id: title
        attributes:
          name: title
          placeholdertext: ex. My Blog Post for Today
          required: "false"
      - type: text
        id: byline
        attributes:
          name: byline
          placeholdertext: ex. By Jane Jones, 1912-12-12
          required: "false"
      - type: textarea
        id: content
        attributes:
          name: content
          required: "true"
      - type: date
        id: pubDate
        attributes:
          name: pubDate
          required: "true"
routes:
  - id: list_posts
    request: GET /
    pipeline:
      - service: GET http://localhost:3000/rpc/list_posts
      - service: POST http://localhost:3032/list_posts
  - id: show_post
    request: GET /{post_id}
    pipeline:
      - service: GET http://localhost:3000/rpc/get_post/{post_id}
      - service: POST http://localhost:3032/show_post
templates:
  - id: list_posts
    request: POST /list_posts
    template: list_posts.tmpl
  - id: show_post
    request: POST /show_post
    template: show_post.tmpl
  - id: custom_page
    request: POST /custom_page
    template: custom_page.tmpl
  - id: custom_page
    request: POST /custom_page_with_title/{post_id}
    template: custom_page_with_title.tmpl
  - id: custom_page
    request: POST /custom_page_include
    template: custom_page_includ.tmpl
  - id: default_html5
    request: POST /default_html5
    template: page.tmpl
  - id: default_html5
    request: POST /default_html5_with_title/{post_id}
    template: page_with_title.tmpl
  - id: default_html5
    request: POST /default_html5_include
    template: page_include.tmpl
