# Just testing if newrouter can route content from http://localhost:8001
applications:
  newtrouter:
    htdocs: /Users/rsdoiel/Sites/rsdoiel.github.io/
    port: 8020
  newtmustache:
    port: 8030
  newtgenerator:
    namespace: ornothology
models:
  - id: bird_sighting
    name: Bird Sightings
    description: |
      This model captures the data for a bird sighting.
    body:
      - id: bird
        type: input
        description: Bird name or description
        attibributes:
          name: bird
          placeholdertext: ex. Blue Bird, Hummingbird
        validations:
          required: true
      - id: place
        type: input
        description: short description of where sited
        attributes:
          name: place
          placeholdertext: ex. Backyard, Central Park
        validations:
          required: true
      - id: notes
        type: textarea
        description: Any additional notes
        attributes:
          name: notes
          placeholdertext: |
            ex. Tree was bare. Frost on the ground.
        validations:
          required: false
routes:
  - id: birds_1_index
    request: GET /birds1/
    description: Fetch the birds demo site
    pipeline:
      - service: GET http://localhost:8000/
        description: Birds #1 from the data pipeline
    debug: false
  - id: blog_years
    request: GET /blog_years
    description: |
      Grab the JSON from the static service on :8000
      and then run it through Newt Mustache
    pipeline:
      - service: GET http://localhost:8020/blog/blog.json
      - service: POST http://localhost:8040/blog_years.tmpl
    debug: true
templates:
  - request: POST /blog_years.mustache
    template: blog_years.mustache
