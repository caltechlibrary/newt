<!DOCTYPE html>
<html>
<head>
    <title>Newt -- a new take on the webstack</title>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
	<li><a href="/">Home</a></li>
	<li><a href="./">README</a></li>
	<li><a href="user-manual.html">User Manual</a></li>
	<li><a href="LICENSE">LICENSE</a></li>
	<li><a href="INSTALL.html">INSTALL</a></li>
	<li><a href="about.html">About</a></li>
	<li><a href="https://github.com/caltechlibrary/newt">GitHub</a></li>
</ul>
</nav>

<section>
<h2 id="motivation">Motivation</h2>
<p>My belief is that many web services used by archives, libraries and
museums can benefit from a simplified and consistent back end. If the
back end is “easy” then the limited developer resources can be focused
on the front end which is what us humans experience day to day. This
lead me to take a <a
href="https://en.wikipedia.org/wiki/Rapid_application_development">RAD</a>
tools approach to the problem and to encourge the re-use of existing
micro services like Pandoc server, PostgREST, Open Search.</p>
<p>I’ve written many web applications over the years. Newt is focused on
providing very specific glue leveraging existing microservices already
used by libraries, archives and museums. For many of these apps the core
of an application is a JSON service (e.g. Invenio-RDM, ArchivesSpace).
Newt can be used to extend these if needed. Let’s take advantage of
that. When we do need a custom application let also take advantage of a
similar microservices approach. Build your core application in SQL with
PostgREST+Postgres, hand of rendering to Pandoc running as a service.
Newt can route your data between them two giving you similar benefits to
complicated systems like Invenio but simple enough to be implemented by
a single person.</p>
<h2 id="newt-stack-front-to-back">Newt stack, front to back</h2>
<ul>
<li><p>A front end web server (e.g. Apache 2, NginX) can provide access
control where appropriate (e.g. single sign-on via Shibboleth)</p></li>
<li><p>Newt provides static file services but more importantly serves as
a data router. It can validate and map a request to a JSON source, take
those results then send them through Pandoc for transformation.</p></li>
<li><p>JSON data source(s) provide the actual metadata management</p>
<ul>
<li>Postgres+PostgREST is an example of a JSON source integrated with a
SQL server</li>
<li>Solr, Elasticsearch or Opensearch can also function as a JSON source
oriented towards search</li>
<li>ArchivesSpace, Invenio RDM are examples of systems that can function
as a JSON sources</li>
<li>CrossRef, DataCite, ORCID are examples of services that function as
JSON sources</li>
</ul></li>
<li><p>Pandoc server provides a templating engine to transform data
sources</p></li>
</ul>
<p>All these can be treated as “off the shelf”. I.e. we’re not writing
them from scratch but we’re accessing them via configuration. Even using
PostgREST with Postgres the “source” boils down to SQL used to define
the data models hosted by the SQL service. Your application is
implemented using SQL and configured with YAML and Pandoc templates.</p>
<h2 id="taking-advantage-of-json-and-s3-data-sources">Taking advantage
of JSON and S3 data sources</h2>
<p>Newt was inspired by my working with PostgREST, Postgres and Pandoc.
I also work allot of S3 object stores. I want Newt to be light weight. I
wanted Newt to avoid writing anything to disk. That’s possible now
working with JSON API as data sources. I am in the planning stages of
adding S3 protocol support to allow Newt applications to support a
bigger domain space. Current plans are focused on using Minio as an off
the shelf microservices to fill that responsibility.</p>
<h2 id="getting-newt-pandoc-postgrest-and-postgres">Getting Newt,
Pandoc, PostgREST and Postgres</h2>
<p>Newt is an experimental prototype (June/July 2023, and
January/February 2024). It is distributed in source code form. You need
a working Go language environment, git, make and Pandoc to compile Newt
from source code. See <a href="INSTALL.html">INSTALL.md</a> for details.
Go is available from <a href="https://golang.org"
class="uri">https://golang.org</a>.</p>
<p>Pandoc is available from <a href="https://pandoc.org"
class="uri">https://pandoc.org</a>. PostgREST is available from <a
href="https://postgrest.org" class="uri">https://postgrest.org</a>. Both
can be built from source using <a
href="https://www.haskell.org/ghcup/">GHCup</a> to install the Haskell
tool chain.</p>
<p>Pagefind is a Rust application. It can be installed by going to
https://pagefind.app/ and following the installtion instructions
there.</p>
<p>Postgres can be obtain through your host system’s package manager. If
not then you can also go to the <a href="https://postgres.org"
class="uri">https://postgres.org</a> website and follow the instruction
for installation.</p>
</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2023 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
