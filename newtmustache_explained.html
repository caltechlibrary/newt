<!DOCTYPE html>
<html>
<head>
    <title>Newt -- a new take on the webstack</title>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
	<li><a href="/">Home</a></li>
	<li><a href="./">README</a></li>
	<li><a href="user_manual.html">User Manual</a></li>
	<li><a href="LICENSE">LICENSE</a></li>
	<li><a href="INSTALL.html">INSTALL</a></li>
	<li><a href="about.html">About</a></li>
	<li><a href="https://github.com/caltechlibrary/newt">GitHub</a></li>
</ul>
</nav>

<section>
<h1 id="newt-mustache-template-supported-explained">Newt Mustache
template supported explained</h1>
<p>2024-02-12</p>
<p>The Newt Mustache template engine came about due to three
concerns.</p>
<ul>
<li>People don’t think about Pandoc as a web service</li>
<li>Some people don’t like Pandoc templates or are unfamiliar with
Pandoc</li>
<li>Pandoc’s web server doesn’t handle Pandoc’s partial template
support</li>
</ul>
<p>When building a web application using a template system it is very
useful to minimize the number of templates you need to know and work
with. One way this is done is to build smaller partial templates that
handle specific content elements or types. E.g. a bibliographic citation
used on a book review website.</p>
<p>When you run Pandoc from the command line this is readily supported.
Unfortunately Pandoc 3.1 web service doesn’t support this. The web
service only knows about the full template you provide as part of the
JSON POST. Another problem with the web service is that you must provide
both the template and JSON DATA for each request you make to the web
service. Where does that template source come from? Typically it is read
from disk unless you’re using the default templates Pandoc provides.
Internally Pandoc web service unpacks the template, parses it then
applies the data object you provided. How might we simplify the
process?</p>
<p>Ideally a simple template engine is stateless once it has started up.
This doesn’t mean it can’t take advantage of configuration when starting
up. If a simple template engine knew where the template was on disk it
could read it and keep the template in memory. It could potentially
resolve partial templates too. Combine this with mapping the template to
a specific URL request we can eliminate the need for a wrapping object
like the one required to use Pandoc web service.</p>
<p>Newt Project provides a web service, <a
href="pdbunder.1.html">pdbundler</a> let’s you prep JSON object for use
with Pandoc web service. It solves some of the challenges of working
with Pandoc web service.</p>
<p><a href="newtmustache.1.html">Newt Mustache</a> takes that a step
further and integrates a Mustache template engine which will include
partial template support resolved at startup.</p>
<p>Why Mustache templates?</p>
<ul>
<li>Mustache is a widely support template language with support include
Python, JavaScript, and Go (languages used regularly at Caltech
Library)</li>
<li>Since a Go package provides Mustache template I only need to write a
light weight web service to wrap it</li>
<li>Since I am writing the service I can keep the requires to a minimum,
i.e. <a href="newtmustache.1.html#newt_config_file">A simple YAML
configuration file</a>.</li>
</ul>
<p>See <a href="newtmustache.1.html">newtmustache</a> manual page for
details.</p>
</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2023-2024 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
