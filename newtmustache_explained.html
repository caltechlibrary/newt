<!DOCTYPE html>
<html lang="en">
<head>
    <title>Newt -- a new take on the webstack</title>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
	<li><a href="/">Home</a></li>
	<li><a href="./">README</a></li>
	<li><a href="user_manual.html">User Manual</a></li>
	<li><a href="LICENSE">LICENSE</a></li>
	<li><a href="INSTALL.html">INSTALL</a></li>
	<li><a href="about.html">About</a></li>
	<li><a href="https://github.com/caltechlibrary/newt">GitHub</a></li>
</ul>
</nav>

<section>
<h1 id="newt-mustache-template-supported-explained">Newt Mustache
template supported explained</h1>
<p>2024-02-12</p>
<p>The Newt Mustache template engine came about due to three
concerns.</p>
<ul>
<li>Pandoc server usage is hard to debug</li>
<li>Many people don’t know or like Pandoc’s template language</li>
<li>Pandoc server does NOT support partial templates</li>
</ul>
<p>When building a web application using a template system it is very
useful to minimize the number of templates you need to know and work
with. One way this is done is to build smaller partial templates that
handle specific content elements or types. E.g. a bibliographic citation
used on a book review website.</p>
<p>When you run Pandoc from the command line this is readily supported.
Unfortunately Pandoc 3.1 server doesn’t support this. The server only
knows about the full template you provide as part of the JSON POST.
Mistakenly misconfigure the JSON you post to Pandoc and it will happly
give you nothing back. Not an error message, not a peep. Technically
it’s giving back what you requested but it’s a pain to fiddle with JSON
to get enough of a response to diagnose the problem. That was a show
stopper for Newt’s second prototype. Time to switch horses. Pandoc
server inspired Newt’s Mustache template service. Newt’s template
service is configured from YAML file. Settings are clearer. You can also
turn on debugging for a specific template you have concerns about. Like
Pandoc server Newt’ Mustache template engine is stateless. You can run
as many as you like as long as you have an available port.</p>
<p><a href="newtmustache.1.html">Newt Mustache</a> designd for use in
Newt’s data pipeline.</p>
<p>Why Mustache templates?</p>
<ul>
<li>Mustache is a widely support template language with support include
Python, JavaScript, and Go (languages used regularly at Caltech
Library)</li>
<li>Since a Go package provides Mustache template I only need to write a
light weight web service to wrap it</li>
<li>Since I am writing the service I can keep the requires to a minimum,
i.e. <a href="newtmustache.1.html#newt_config_file">Use Newt’s YAML file
syntax</a>.</li>
</ul>
<p>See <a href="newtmustache.1.html">newtmustache</a> manual page for
details.</p>
</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2023-2024 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
