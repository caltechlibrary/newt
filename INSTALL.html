<!DOCTYPE html>
<html>
<head>
    <title>Newt -- a new take on the webstack</title>
    <link rel="stylesheet" href="https://caltechlibrary.github.io/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="https://caltechlibrary.github.io/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
	<li><a href="/">Home</a></li>
	<li><a href="./">README</a></li>
	<li><a href="user_manual.html">User Manual</a></li>
	<li><a href="LICENSE">LICENSE</a></li>
	<li><a href="INSTALL.html">INSTALL</a></li>
	<li><a href="about.html">About</a></li>
	<li><a href="https://github.com/caltechlibrary/newt">GitHub</a></li>
</ul>
</nav>

<section>
<h2 id="installation">Installation</h2>
<p>newt is an experimental web service for working with Pandoc+PostgREST
and Pandoc. It also provides a simple static file web service. At this
time you must install it from source code. It is probably broken and
certainly will contain many bugs. It’s a prototype!</p>
<h2 id="quick-install-with-curl">Quick install with curl</h2>
<p>If you are running macOS or Linux you can install released versions
of newt with the following curl command.</p>
<pre><code>curl https://caltechlibrary.github.io/newt/installer.sh</code></pre>
<h2 id="install-from-source">Install from source</h2>
<h2 id="requirements">Requirements</h2>
<ul>
<li>Go ≥ 1.22 (aped relies the improved HTTP package that supports a
richer Del for describing routes)</li>
<li>Pandoc ≥ 3.1 (to render Markdown content and some Go code)</li>
<li>Postgres ≥ 16</li>
<li>PostgREST ≥ 12</li>
<li>Git compatible tool for retrieving the GitHub repository of Ape</li>
<li>GNU Make ≥ 4.3</li>
<li>GNU grep ≥ 3.7</li>
<li>GNU cut ≥ 8.32</li>
</ul>
<h3 id="building-from-source-code">Building from source code</h3>
<ol type="1">
<li>Make sure you have the required development software installed</li>
<li>Clone the Ape GitHub repository locally</li>
<li>Use the Go tool to build, test and run the application</li>
</ol>
<h4 id="step-1">step 1</h4>
<ol type="1">
<li>Check if Go is installed and it is the right version. See <a
href="https://golang.org" class="uri">https://golang.org</a> to download
and install Go</li>
<li>Check if Pandoc is installed and the right version. See <a
href="https://pandoc.org" class="uri">https://pandoc.org</a> to download
and install Pandoc</li>
<li>Check if SQLite3 is installed and the right version. See <a
href="https://sqlite.org" class="uri">https://sqlite.org</a> to download
and install SQLite3</li>
<li>Check if Git is installed and version. To install the Git command
see, <a href="https://git-scm.com/"
class="uri">https://git-scm.com/</a>. GitHub provides <a
href="https://docs.github.com/en/github-cli">gh</a> and <a
href="https://docs.github.com/en/desktop">GitHub Desktop</a> with
similar capabilities. Ape install instructions assume the venerable
<code>git</code> command.</li>
<li>Check if your GNU or POSIX commands are available
<ul>
<li>These command often installed by POSIX operating system and its
package manager</li>
</ul></li>
</ol>
<pre class="shell"><code>go version
pandoc --version
sqlite3 --version
git version
make --version
grep --version
cut --version</code></pre>
<h4 id="step-2">step 2</h4>
<ol type="1">
<li>Start in your home directory</li>
<li>Clone Ape’s <a
href="https://github.com/caltechlibrary/ape">repository</a>.</li>
<li>Change into the Ape directory</li>
</ol>
<pre class="shell"><code>cd
git clone \
   https://github.com/caltechlibrary/ape \
   src/github.com/caltechlibrary/ape
cd src/github.com/caltechlibrary/ape</code></pre>
<h4 id="step-3">step 3</h4>
<p>For these three tasks we’re going to use the Go command. It assumed
are still int eh directory where you completed step 2.</p>
<ol type="1">
<li>Build the ape application</li>
<li>Test the ape application</li>
<li>If the tests are successful then you can install Ape tools</li>
</ol>
<pre class="shell"><code>go build
go test
go install</code></pre>
<h2 id="precompiled-binaries">Precompiled binaries</h2>
<p>You can find pre-compiled binaries for some versions of Newt. They
are available at <a
href="https://github.com/caltechlibrary/newt/releases"
class="uri">https://github.com/caltechlibrary/newt/releases</a>.</p>
<p>The binaries are available in a Zip archive file for download. The
name uses the form
<code>newt-&lt;VERSION_NO&gt;-&lt;OS_TYPE&gt;-&lt;CPU_TYPE&gt;.zip</code>.
VERSION_NO will be a semver associated with the release (e.g. “v0.0.2”),
the OS_TYPE will be either “Linux” (including Raspbery Pi OS), “Windows”
and “macOS”. The CPU_TYPE will vary based on how the CPU type is
reported on the POSIX system (e.g. what is returned by
<code>uname -m</code>) or in the case of Windows either “x86_64” for
Intel CPU types or “arm64” for ARM CPU (e.g. those in selected Surface
tablets or Microsoft’s ARM Development Kit 2023).</p>
<ul>
<li>macOS example
<ul>
<li><code>newt-v0.0.2-macOS-arm64.zip</code> (M1, M2 CPU) or
<code>newt-v0.0.2-macOS-x86_64.zip</code> (older Intel based Macs)</li>
</ul></li>
<li>Windows example
<ul>
<li><code>newt-v0.0.2-Windows-x86_64.zip</code> (for Most Windows
machines)</li>
</ul></li>
<li>Linux example (including Raspberry Pi OS)
<ul>
<li><code>newt-v0.0.2-Linux-x86_64.zip</code> (Linux on Intel CPUs)</li>
<li><code>newt-v0.0.2-Linux-armv7l.zip</code> (Raspberry Pi OS,
32bit)</li>
<li><code>newt-v0.0.2-Linux-aarch64.zip</code> (Linux on ARM 64)</li>
</ul></li>
</ul>
<h2 id="getting-help">Getting help</h2>
<p><strong>The Newt Project is an experiment!!</strong>. The source code
for the project is supplied “as is”. Newt is most likely broken. At a
stretch it could be considered a working prototype. You should not use
it for production systems. However if you’d like to ask a question or
have something you’d like to contribute please feel free to file a
GitHub issue, see <a
href="https://github.com/caltechlibrary/newt/issues"
class="uri">https://github.com/caltechlibrary/newt/issues</a>. Just keep
in remains an <strong>experiment</strong> as of February 2024.</p>
</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2023 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
