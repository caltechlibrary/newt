
# Newt's `newt config`

The Newt config action can create a new skeleton YAML file or update the application's property of a Newt YAML. It allows you to select which application is run by `newt run` as well as configure those applications. In addition you can use Newt Config to update the configurations in the applications' property. You might need to do this if the standard ports for the network services need to be changed.

## Create your first Newt YAML file

By default if you do not provide a YAML filename the `newt config` command will use the filename of "app.yaml". Let's try creating a "app.yaml" by running the config action.

~~~shell
newt config
~~~

You will now get prompted by a series of questions that will configure what is listed inside the applications' property.

This is a transcript of running `newt config` to generated "app.yaml".

~~~shel
newt config
Creating "app.yaml"
Will app.yaml use Newt Router (Y/n)? Y
Will app.yaml use Newt Router (Y/n)? Y
Will app.yaml use Postgres (Y/n)? Y
Will app.yaml use PostgREST (Y/n)? Y
Will app.yaml use Newt Mustache (Y/n)? Y
Will app.yaml use Newt Generator (Y/n)? Y
Will app.yaml need to import environment variables (y/N)? N
Will app.yaml provide options to the services (y/N)? N
Save and exit (Y/n)? Y
~~~

The single letter, "Y" or "N", at the end of each question is the answer I provided when generating the following "app.yaml". If you just press enter rather then specifically answer "Y" or "N" then you are accepting the defaults of generating the application configuration. This is fine in most cases.

Here's the generated "app.yaml".

~~~yaml
#/usr/bin/env newt check
#
# This was generated by rsdoiel on 2024-05-09 with newt version 0.0.8 bc0d5e8.
#
applications:
  newtrouter:
    port: 8010
  newtmustache:
    port: 8011
  newtgenerator:
    namespace: app.yaml
  postgres:
    port: 5432
    dsn: postgres://{PGUSER}:{PGPASSWORD}@localhost:5432/app.yaml
  postgrest:
    app_path: postgrest
    conf_path: postgrest.conf
    port: 3000
  enviroment:
    - PGUSER
    - PGPASSWORD
~~~

When I accepted using Postgres the config action knows that the connection string can be built from the standard environment variables expected by Postgres' psql and database connectors.  That is why even through I answered "N" to the question about setting up environment variables to import I still have environment variables listed.

NOTE: if "app.yaml" already existed then answer "Y" or "N" questions would have only updated "app.yaml" after I answered "Y" to the question, "Save and exit (Y/n)?". Before that any changes would have been in the computer's memory but not acted upon by writing them to disk.

NOTE: When you are running `newt config` you can press "control C" to quit the "config" action without writing the YAML to disk.

Next up [Newt Model](newt_model_explained.md)

